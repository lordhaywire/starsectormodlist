id,trigger,conditions,script,text,options,notes
"#RULESET_NAME Roider Union DEV",,,,,,
,,,,,,
# Roider fleet greeting lines,,,,,,
roider_GreetingFriendly,OpenCommLink,"$faction.id == roider
$faction.friendlyToPlayer
","$menuState = fleetConvMain 0
FireAll PopulateOptions","""Seen any raiders around?""
OR
""Burn bright, friend.""",,
roider_GreetingWeaker,OpenCommLink,"$faction.id == roider
$entity.isHostile
$entity.relativeStrength < 0
","$entity.ignorePlayerCommRequests = true 1","""You knock off us and every Roider in the Sector is gonna come down on your head like a pile o' rocks.""
 The Roider $personRank fidgets.
OR
""Keep your distance. We don't want trouble.""","cutCommLink:Cut the comm link",
roider_GreetingHostileWeakerDefiant,OpenCommLink,"$faction.id == roider
$entity.isHostile
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
","$entity.ignorePlayerCommRequests = true 1","The Roider $personRank makes a rude gesture over the vid-screen before killing the comm link.
OR
$personName glares defiantly and spits before killing the comm link.","cutCommLink:Cut the comm link",
roider_GreetingHostileStronger,OpenCommLink,"$faction.id == roider
$entity.isHostile
$entity.relativeStrength >= 0
","$entity.ignorePlayerCommRequests = true 1","""You came to the wrong part of the Sector, rock licker.""
OR
""You call that derelict a ship?"" The Roider $personRank spits derisively.","cutCommLink:Cut the comm link",
roider_GreetingNeutral,OpenCommLink,"$faction.id == roider
$faction.neutralToPlayer
","$menuState = fleetConvMain 0
FireAll PopulateOptions","""Keep your distance. We don't want trouble.""",,
"#END Roider fleet greeting lines",,,,,,
,,,,,,
# Trade panel flavor text,,,,,,
roiderFlavorTextMarket,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$faction.id == roider score:100
","AddText ""Roider warships blend together with the dust-covered freighters and mining ships that fill the port concourse."" marketFlavorTextColor
AddText ""Gruff captains negotiate deals in run-down bars surrounded by port workers, miners, and other spacers trading drinks and tall tales."" marketFlavorTextColor",,,
"#END Trade panel flavor text",,,,,,
,,,,,,
# Relationship level descriptions,,,,,,
roider_RelLevelNeutral,RelationshipLevelDesc,"$faction.rel == NEUTRAL
$faction.id == roider",,"You're not generally well known by $faction officers, for good or ill.",,
roider_RelLevelFavorable,RelationshipLevelDesc,"$faction.rel == FAVORABLE
$faction.id == roider",,"You have connections in $theFaction. Enough to get some low-grade military equipment, at least.",,
roider_RelLevelWelcoming,RelationshipLevelDesc,"$faction.rel == WELCOMING
$faction.id == roider",,"Your name is known to some senior captains in $theFaction, to your benefit.",,
roider_RelLevelFriendly,RelationshipLevelDesc,"$faction.rel == FRIENDLY
$faction.id == roider",,"You're relatively well-known within $theFaction, whether in person or by reputation. Unimportant officers know to stay out of your way.",,
roider_RelLevelCooperative,RelationshipLevelDesc,"$faction.rel == COOPERATIVE
$faction.id == roider",,"You know some $faction CEOs personally. You have access to some of the best equipment $theFaction has to offer.",,
roider_RelLevelSuspicious,RelationshipLevelDesc,"$faction.rel == SUSPICIOUS
$faction.id == roider",,"Though nothing has been proven (yet), $faction officers tend to view you with distrust. Link access to the port authority is granted only grudgingly.",,
roider_RelLevelInhospitable,RelationshipLevelDesc,"$faction.rel == INHOSPITABLE
$faction.id == roider",,"Suspicions have risen to an actionable level. $faction captains aren't gunning for you quite yet, but $faction ports will refuse to trade with you.",,
roider_RelLevelHostile,RelationshipLevelDesc,"$faction.rel == HOSTILE
$faction.id == roider",,"$Faction captains have authorization to engage your fleet on sight, and all markets refuse to trade with you. You might still recover good standing with $theFaction, but it's going to take some serious work.",,
roider_RelLevelVengeful,RelationshipLevelDesc,"$faction.rel == VENGEFUL
$faction.id == roider",,"A holo of your face and an IDENT-hash of your last known fleet are both regular parts of news broadcasts in $faction security broadcasts. It's fairly certain there's a high-ranking $faction captain assigned to hunt you down, if the other captains don't beat them to it that is.",,
"#END Relationship level descriptions",,,,,,
,,,,,,
# cargo scan from smuggling suspicion,,,,,,
roider_CargoScanFirstComms,OpenCommLink,"$entity.cargoScanConv score:100
$faction.id == roider","AddText ""\""Heave to, spacer! Your fleet matches the profile of a suspected smuggler posted by $market authorities. You're hereby ordered to submit to a cargo scan.\""""
",,"0:cargoScan_comply:Allow the scan
1:cargoScan_refuse:Refuse and cut the comm link",
roider_CargoScanPods,CargoScanResult,"$scan_podsFound score:1000
$faction.id == roider","unset $scan_podsFound","The $faction $personRank pauses and looks off-screen.

""And what do we have here - pods full of illegal cargo. Not yours? No? Good, we'll be taking them, then.""","0:scan_podsCont:Continue",
roider_CargoScanContraband,CargoScanResult,"$scan_contrabandFound score:10
$faction.id == roider",,"""Well, well. Just as I suspected, we've got a smuggler here. Eject the contraband and we can all be on our way.""

$PersonRank $personLastName looks rather pleased. You wonder just where the goods will end up.","0:cargoScan_comply_contraband:Surrender the contraband and cut the comm link
1:cargoScan_refuse:Refuse and cut the comm link",
"#END cargo scan from smuggling suspicion",,,,,,
,,,,,,
# Roider Commission,,,,,,
roider_askForCommissionOpt,PopulateOptions,"$isPerson
$personFaction.id == roider score:100
Roider_Commission personCanGiveCommission
!Commission hasFactionCommission",,,"20:roider_cmsn_askCommission:""I'd like to be commissioned by the Roider Union""",
roider_resignCommissionOpt,PopulateOptions,"$isPerson
$personFaction.id == roider score:100
Roider_Commission personCanGiveCommission
Commission hasFactionCommission",,,"20:cmsn_resignCommission:""I'd like to resign my Roider commission""",
roider_lolNo,DialogOptionSelected,"$option == roider_cmsn_askCommission
$personFaction.isHostile score:100
$personFaction.id == roider score:100","SetEnabled roider_cmsn_askCommission false
FireBest CMSNTextRejectHostile",,,
roider_hasOther,DialogOptionSelected,"$option == roider_cmsn_askCommission
$personFaction.id == roider score:100
!$personFaction.isHostile
Commission hasOtherCommission","SetEnabled roider_cmsn_askCommission false
FireBest CMSNTextHasOther",,,
roider_doesNotMeetCriteria,DialogOptionSelected,"$option == roider_cmsn_askCommission
!Commission playerMeetsCriteria","SetEnabled roider_cmsn_askCommission false
FireBest CMSNTextUnsuited
Roider_Commission printRequirements",,,
roider_meetsCriteria,DialogOptionSelected,"$option == roider_cmsn_askCommission
$personFaction.id == roider score:100
Commission playerMeetsCriteria","FireBest CMSNTextSuitedPart1",,"0:cmsn_continueMeetsReq:Continue",
roider_meetsCriteria2,DialogOptionSelected,"$option == cmsn_continueMeetsReq
$personFaction.id == roider score:100","Commission printInfo
FireBest CMSNTextSuitedPart2",,"0:cmsn_accept:Accept a Roider commission
1:cmsn_cancel:""Perhaps I'm not quite ready for this.""",
roider_accept,DialogOptionSelected,"$option == cmsn_accept
$personFaction.id == roider score:100","FireBest CMSNTextWelcomePart1
Commission accept
FireBest CMSNTextWelcomePart2
FireAll PopulateOptions",,,
roider_resignConfirm,DialogOptionSelected,"$option == cmsn_resignConfirm
$personFaction.id == roider score:100","FireBest CMSNResignConfirmed
Commission resign
FireAll PopulateOptions",,,
,,,,,,
# Conversation Strings,,,,,,
roider_CMSNTextRejectHostile,CMSNTextRejectHostile,"$personFaction.id == roider score:100",,"""Is this some kind of joke? If you are who you say you are, you're on several Union wanted lists!""",,
roider_CMSNTextHasOther,CMSNTextHasOther,"$personFaction.id == roider score:100",,"""You're already commissioned by $theOtherCommissionFaction. You'll have to resign that commission before you can be commissioned by the Roider Union.""",,
roider_CMSNTextUnsuited,CMSNTextUnsuited,"$personFaction.id == roider score:100",,"""I'm sorry, but you don't meet our criteria for receiving a commission.""",,
roider_CMSNTextSuitedPart1,CMSNTextSuitedPart1,"$personFaction.id == roider score:100",,"""Hmm, yes, you're a suitable candidate.

""Accepting a commission is a serious matter. You will be required to fight enemies of the Roider Union, wherever they may be found.

""You'll be able to resign your commission at any time, though I don't imagine doing so would win you any friends.""",,
roider_CMSNTextSuitedPart2,CMSNTextSuitedPart2,"$personFaction.id == roider score:100",,"""So, how about it? Still want to sign on?""",,
roider_CMSNTextWelcomePart1,CMSNTextWelcomePart1,"$personFaction.id == roider score:100",,"""Excellent! Welcome to the Union, captain.""",,
roider_CMSNTextWelcomePart2,CMSNTextWelcomePart2,"$personFaction.id == roider score:100",,"""Anything else I can do for you?""",,
roider_CMSNTextChangeMind,CMSNTextChangeMind,"$personFaction.id == roider score:100",,"""Yes, not everyone has it in them to uphold the values of the Roider Union to such a high standard. No shame in it.

""Anything else I can do for you?""",,
roider_CMSNResignAskToConfirm,CMSNResignAskToConfirm,"$personFaction.id == roider score:100",,"""Are you sure? The Roider Union needs people it can rely on, and turning your back like this won't be easily forgotten.""",,
roider_CMSNResignConfirmed,CMSNResignConfirmed,"$personFaction.id == roider score:100",,"""I can see there's no changing your mind. Well, at least you had the courtesy to tender your resignation in person.""",,
roider_CMSNResignCancelled,CMSNResignCancelled,"$personFaction.id == roider score:100",,"""A good decision. We can use people like you.""",,
"#END Conversation Strings",,,,,,
"#END Roider Commission",,,,,,
,,,,,,
# Turning AI Cores in,,,,,,
roider_aiCores_turnInOption,PopulateOptions,"$isPerson
Roider_AICores personCanAcceptCores","FireBest DisableTurnInCoresOptionIfNeeded",,"10:aiCores_startTurnIn:""I'd like to turn in these AI cores that I've acquired...""",
roider_aiCores_turnInOptionSel,DialogOptionSelected,"$option == aiCores_startTurnIn
$personFaction.id == roider score:100","FireAll Roider_PopulateCoresTurnInOptions","""A fascinating offer. Why, if one of the major factions caught you with these, they might just seize them outright. Tell you what - I'll do you a favour and give you a good price.""",,
roider_aiCores_playerHasOption,Roider_PopulateCoresTurnInOptions,,,,"0:roider_aiCores_selectCores:Select AI cores to turn in",
roider_aiCores_neverMindOption,Roider_PopulateCoresTurnInOptions,,,,"100:aiCores_neverMind:""Never mind, I don't actually have any.""",
roider_aiCores_turnInOptionSelected,DialogOptionSelected,"$option == roider_aiCores_selectCores","AICores selectCores",,,
roider_aiCores_turnInResponseDefault,AICoresTurnedIn,"$personFaction.id == roider","FireAll PopulateOptions","$PersonRank $personLastName thanks you and the conversation moves on to other matters.",,
"#END Turning AI Cores in",,,,,,
,,,,,,
# Retrofitting,,,,,,
roider_addRetrofitBarOption,AddBarEvents,"Roider_RetrofitAccess roiderHQFunctional","Roider_RetrofitAccess addBarEvent",,,
roider_retrofitRefuse,DialogOptionSelected,"$option == roider_retrofitRefuse","Roider_RetrofitAccess refuse",,"backToBar:Leave",
roider_retrofitDescribe,DialogOptionSelected,"$option == roider_retrofitDescribe","Roider_RetrofitAccess describe",,,
roider_retrofitPay,DialogOptionSelected,"$option == roider_retrofitPay","Roider_RetrofitAccess payFee",,,
roider_retrofitStraight,DialogOptionSelected,"$option == roider_retrofitStraight","Roider_RetrofitAccess retrofit",,,
roider_retrofitStorage,DialogOptionSelected,"$option == roider_retrofitStorage","Roider_RetrofitAccess payFee",,,
roider_swAddRetrofitBarOption,AddBarEvents,"Roider_SWRetrofitAccess shipworksFunctional
$faction.id == player","Roider_SWRetrofitAccess addBarEvent",,,
roider_swRetrofitStraight,DialogOptionSelected,"$option == roider_swRetrofitStraight","Roider_SWRetrofitAccess retrofit",,,
,,,,,,
# Argos Paid Retrofitting,,,,,,
roider_aprDefaultStart,BeginFleetEncounter,"$roider_aprIsRetrofitting score:100
$player.transponderOn
RepIsAtWorst $faction.id NEUTRAL
!$ignorePlayerCommRequests","Roider_APRHail",,,
roider_aprIndieStart,BeginFleetEncounter,"$roider_aprIsRetrofitting score:100
$roider_aprIgnoreTransponder score:100
!$roider_aprIgnoreRep
RepIsAtWorst $faction.id NEUTRAL
!$ignorePlayerCommRequests","Roider_APRHail",,,
roider_aprPirateStart,BeginFleetEncounter,"$roider_aprIsRetrofitting score:100
$roider_aprIgnoreTransponder score:100
$roider_aprIgnoreRep
!$ignorePlayerCommRequests","Roider_APRHail",,,
roider_aprDefaultGreeting,OpenCommLink,"$entity.roider_aprIsRetrofitting score:100
$player.transponderOn
RepIsAtWorst $faction.id NEUTRAL
!$ignorePlayerCommRequests","Roider_APRAccess catalog
AddText ""\""We can convert your civilian ships into pristine warships right here, right now. Interested?\"" $heOrShe asks.""
FireAll PopulateOptions",,,
roider_aprIndieGreeting,OpenCommLink,"$entity.roider_aprIsRetrofitting score:100
$entity.roider_aprIgnoreTransponder score:100
!$entity.roider_aprIgnoreRep
RepIsAtWorst $faction.id NEUTRAL","Roider_APRAccess catalog
AddText ""\""We can convert your civilian ships into pristine warships, if you'd like. Are you interested?\"" $heOrShe asks.""
FireAll PopulateOptions",,,
roider_aprPirateGreeting,OpenCommLink,"$entity.roider_aprIsRetrofitting score:100
$entity.roider_aprIgnoreTransponder score:100
$entity.roider_aprIgnoreRep","Roider_APRAccess catalog
AddText ""\""We can convert junk civvy stuff into real warships for you. Wanna make a deal?\"" $heOrShe asks.""
FireAll PopulateOptions",,,
roider_aprAddDefaultRetrofitOption,PopulateOptions,"$entity.roider_aprIsRetrofitting score:100
!$entity.roider_aprIgnoreTransponder
$player.transponderOn
RepIsAtWorst $faction.id NEUTRAL
!$ignorePlayerCommRequests",,,"roider_aprRetrofit:Talk retrofits",
roider_aprAddIndieRetrofitOption,PopulateOptions,"$entity.roider_aprIsRetrofitting score:100
$entity.roider_aprIgnoreTransponder score:100
!$entity.roider_aprIgnoreRep
RepIsAtWorst $faction.id NEUTRAL",,,"roider_aprRetrofit:Talk retrofits",
roider_aprAddPirateRetrofitOption,PopulateOptions,"$entity.roider_aprIsRetrofitting score:100
$entity.roider_aprIgnoreTransponder score:100
$entity.roider_aprIgnoreRep",,,"roider_aprRetrofit:Talk retrofits",
roider_aprRetrofitOptionSelected,DialogOptionSelected,"$option == roider_aprRetrofit","Roider_APRAccess retrofit",,,
roider_aprReturn,DialogOptionSelected,"$option == roider_argosFinishedConverting","ShowPersonVisual
AddText ""Return"" buttonText
#AddText ""You complete your dealings and the conversation turns to other matters.""
Roider_APRAccess catalogCont
UpdateMemory
FireAll PopulateOptions",,,
"#END Argos Paid Retrofitting",,,,,,
"#END Retrofitting",,,,,,
,,,,,,
# Fringe HQ free transponder warning,,,,,,"Adds a no rep-loss warning at the fringe Union HQ base(s) before the vanilla warning - attack sequence can occur."
roider_tOffPatrolBegin,BeginFleetEncounter,"Roider_FreeFringeWarning isFringeHQSystem score:100
CaresAboutTransponder
!$tOff_didAlready
!$isHostile
!$faction.c:allowsTransponderOffTrade
!$sourceMarket.mc:free_market
$isPatrol
$sawPlayerTransponderOff score:100
#$roider_freeWarningCount < 1 score:100
!$roider_gaveFreeWarning score:100","$tOff_didAlready = true 0
#MakeOtherFleetPreventDisengage tOff true
MakeOtherFleetAggressive tOff false
unset $ignorePlayerCommRequests
#$roider_freeWarningCount++ 10
$roider_gaveFreeWarning = true 10
$roider_transponderOffConv = true 0
AddText ""You're being hailed by the $faction $otherShipOrFleet."" $faction.baseColor
OpenComms",,,
roider_tOffPatrolOpenComm,OpenCommLink,"$entity.roider_transponderOffConv score:100","AddText ""\""Maybe you forgot, this is $faction space! Turn your transponder on immediately and I'll let you off with just a warning.\""""
unset $entity.roider_transponderOffConv",,"0:roider_tOff_comply:Turn the transponder on
1:tOff_refuse:Refuse and cut the comm link",
roider_tOffPatrolOpenCommUnknown,OpenCommLink,"$entity.roider_transponderOffConv score:100
!$entity.knowsWhoPlayerIs","AddText ""\""Hail, unknown $shipOrFleet! This is $faction space! Running with the transponder off is against the law here. You're hereby ordered to turn your transponder on and identify yourself immediately!\""""
unset $entity.roider_transponderOffConv",,"0:roider_tOff_comply2:Turn the transponder on and identify yourself
1:tOff_refuse:Refuse and cut the comm link",
roider_tOffPatrolOpenCommTOn,OpenCommLink,"$entity.roider_transponderOffConv score:100
$player.transponderOn","unset $entity.roider_transponderOffConv","""This is $faction space! As you may imagine, running with your transponder off here is against the law. I'll let you off with a warning this time, but don't do it again.""

The comm link is cut before you have a chance to respond.","0:roider_tOff_letGoEnd:Continue
1:tOff_refuse:Refuse and cut the comm link",
roider_tOffComply,DialogOptionSelected,"$option == roider_tOff_comply","unset $entity.transponderOffConv
unset $entity.sawPlayerTransponderOff
ActivateAbility $player.fleetId transponder
UpdateMemory","You issue an order to activate the transponder.","0:roider_tOff_letGo:Continue",
roider_tOffComply2,DialogOptionSelected,"$option == roider_tOff_comply2","unset $entity.transponderOffConv
unset $entity.sawPlayerTransponderOff
ActivateAbility $player.fleetId transponder
UpdateMemory","You issue an order to activate the transponder and transmit your identification.","0:roider_tOff_letGo:Continue",
roider_tOffLetGo,DialogOptionSelected,"$option == roider_tOff_letGo",,"$PersonRank $personName seems satisfied.

""If I catch you running with the transponder off again, we'll have more than words.""

The comm link is cut before you have a chance to respond.","0:roider_tOff_letGoEnd:Continue",
roider_tOffLetGoHostile,DialogOptionSelected,"$option == roider_tOff_letGo
$entity.isHostile","ShowDefaultVisual
EndConversation","However, instead of responding, the $faction $fleetName shuts down comms and powers up combat systems.",,
roider_tOffLetGoHostileStronger,DialogOptionSelected,"$option == roider_tOff_letGo
$entity.isHostile
$entity.relativeStrength < 0","MakeOtherFleetAggressive tOff false
MakeOtherFleetPreventDisengage tOff false
ShowDefaultVisual
EndConversation","However, instead of responding, the $faction $fleetName shuts down comms and powers up combat systems.",,
roider_tOffLetGoFinish,DialogOptionSelected,"$option == roider_tOff_letGoEnd","MakeOtherFleetPreventDisengage tOff false
BroadcastCancelPlayerAction 5000 $sawPlayerTransponderOff
ShowDefaultVisual
EndConversation NO_CONTINUE
$sourceMarket.smugglingScanTimeout = true 30",,,
"#END Fringe HQ free transponder warning",,,,,,
,,,,,,
# Tech Expeditions,,,,,,
roider_expeditionScavengeDebris,OpenInteractionDialog,"$tag:salvageable
$customType == debris_field_shared score:100
$roider_expeditionLoot score:100","ShowDefaultVisual
Roider_ExpeditionLoot descDebris
FireBest Roider_SalvageCheckHostile","Your $shipOrFleet assumes a stable orbit relative to the debris field.",,
roider_expeditionHostileNearby,Roider_SalvageCheckHostile,"HostileFleetNearbyAndAware","SetShortcut defaultLeave ESCAPE","A nearby hostile fleet is tracking your movements, making exploration impossible.","100:defaultLeave:Leave",
roider_expeditionNoHostileNearby,Roider_SalvageCheckHostile,"!HostileFleetNearbyAndAware","$salvageLeaveText = Leave 0
FireBest Roider_PopulateExpeditionOptions",,,
roider_expeditionAssessMinor,Roider_PopulateExpeditionOptions,"$customType == debris_field_shared
$roider_expeditionLoot score:100",,,"0:roider_expeditionExplore:Scan the debris field
100:defaultLeave:Leave",
roider_expeditionAssessMajor,Roider_PopulateExpeditionOptions,"$customType == debris_field_shared
$roider_expeditionLootMajor score:101","SetStoryOption roider_expeditionDisableMinefield ui_char_spent_story_point ""Found a major loot stash""
",,"0:roider_expeditionDisableMinefield:Disable the minefield
100:defaultLeave:Leave",
roider_expeditionDisableMinefield,DialogOptionSelected,"$option == roider_expeditionDisableMinefield","Roider_ExpeditionLoot minefieldDisable","The mines are a Hegemony export type with known vulnerabilities. Your sensors officer tries different variations of several exotic sensor sweeps before getting lucky - weak IFF signatures appear across the display and turn green as the minefield stands down for disposal. Your $shipOrFleet is clear to scan the debris field.","0:roider_expeditionExplore:Proceed to scan",
roider_expeditionScanResult,DialogOptionSelected,"$option == roider_expeditionExplore","Roider_ExpeditionLoot scanDebris",,"100:defaultLeave:Continue",
"#END Tech Expeditions",,,,,,

